**单页应用**不仅仅是在页面交互是无刷新的，连页面跳转都是无刷新的，为了实现单页应用，所以就有了前端路由。解决问题的思路便是在改变 url 的情况下，保证页面的不刷新。在 2014 年之前，是通过 hash 来实现路由。

### hash模式

hash 值的变化，并不会导致浏览器向服务器发出请求，浏览器不发出请求，也就不会刷新页面。另外每次 hash 值的变化，还会触发`hashchange`这个事件，通过这个事件我们就可以知道 hash 值发生了哪些变化。便可以监听`hashchange`来实现更新页面部分内容的操作。

### history 模式

HTML5标准多了两个 API，`pushState` 和 `replaceState`，通过这两个 API 可以改变 url 地址且不会发送请求。同时还有`popstate` 事件。通过这些就能用另一种方式来实现前端路由了，但原理都是跟 hash 实现相同的。用了 HTML5 的实现，单页路由的 url 就不会多出一个#，变得更加美观。但因为没有 # 号，所以当用户刷新页面之类的操作时，浏览器还是会给服务器发送请求。为了避免出现这种情况，所以这个实现需要服务器的支持，需要把所有路由都重定向到根页面。

# 源码

**install:** 封装了一个mixin (混入到`beforeCreate`)，定义了两个'原型'(Vue.prototype上定义两个getter: `$route`和`$router`)，注册了两个组件(`router-view`和`router-link`)。

**index:** 初始化`VueRouter`实例。

**create-matcher:** 创建路由匹配实例
